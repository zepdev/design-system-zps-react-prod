import{j as a}from"./jsx-runtime-1a9d9a93.js";import{c as s}from"./clsx-0839fdbe.js";import{r as o}from"./index-8b3efc3f.js";const O=({children:L,className:$,controlId:T,dataTestId:A="zep-scrollbar",theme:b="dark",scrollOrientation:v="both",horizontalClassName:B,ariaLabel:F})=>{const n=o.useRef(null),p=o.useRef(null),d=o.useRef(null),w=o.useRef(null),y=o.useRef(null),H=o.useRef(null),[g,C]=o.useState(20),[z,D]=o.useState(20),[c,R]=o.useState(!1),[h,P]=o.useState(!1),[U,G]=o.useState(0),[J,K]=o.useState(0),[Q,Z]=o.useState(0),[ee,te]=o.useState(0),[N,W]=o.useState(!1),[x,E]=o.useState(!1),[re,ne]=o.useState(0),[oe,le]=o.useState(0),S={light:{thumb:"zep-bg-greyscale-500",track:"zep-bg-greyscale-200"},dark:{thumb:"zep-bg-primary-default",track:"zep-bg-greyscale-400"}},ae=()=>{if(n.current){if(p.current&&n.current){const{clientWidth:e}=p.current,{clientWidth:r,scrollWidth:t}=n.current,l=r>=t;C(l?0:Math.max(r/t*e,20))}if(d.current){const{clientHeight:e}=d.current,{clientHeight:r,scrollHeight:t}=n.current,l=r>=t;D(l?0:Math.max(r/t*e,20))}}},j=()=>{if(!n.current||!p.current||!y.current||!w.current||!d.current)return;const{scrollLeft:e,scrollWidth:r,scrollHeight:t,scrollTop:l}=n.current,{clientWidth:M}=p.current,{clientHeight:k}=d.current;let i=e/r*M,u=l/t*k;i=Math.min(i,M-g),u=Math.min(u,k-z);const m=r>0?Math.round(e/(r-n.current.clientWidth)*100):0,f=t>0?Math.round(l/(t-n.current.clientHeight)*100):0;ne(Math.min(100,Math.max(0,isNaN(m)?0:m))),le(Math.min(100,Math.max(0,isNaN(f)?0:f)));const pe=y.current,de=w.current;requestAnimationFrame(()=>{pe.style.left=`${i}px`,de.style.top=`${u}px`})};o.useEffect(()=>{var e;if(n.current){const r=n.current;return H.current=new ResizeObserver(()=>{ae()}),(e=H.current)==null||e.observe(r),r.addEventListener("scroll",j),()=>{var t;(t=H.current)==null||t.unobserve(r),r.removeEventListener("scroll",j)}}},[]);const se=e=>{e.preventDefault(),e.stopPropagation(),G(e.clientX),n.current&&Z(n.current.scrollLeft),P(!0)},ce=e=>{e.preventDefault(),e.stopPropagation(),K(e.clientY),n.current&&te(n.current.scrollTop),R(!0)},X=e=>{e.preventDefault(),e.stopPropagation(),c&&R(!1),h&&P(!1)},Y=e=>{if(n.current){if(e.preventDefault(),e.stopPropagation(),h){const{scrollWidth:r,clientWidth:t}=n.current,l=(e.clientX-U)*(t/g);n.current.scrollLeft=Math.min(Q+l,r-t)}if(c){const{scrollHeight:r,clientHeight:t}=n.current,l=(e.clientY-J)*(t/z);n.current.scrollTop=Math.min(ee+l,r-t)}}},I=e=>{e.preventDefault(),W(!0)},V=e=>{e.preventDefault(),N&&W(!1)},q=e=>{e.preventDefault(),E(!0)},_=e=>{e.preventDefault(),x&&E(!1)};o.useEffect(()=>(document.addEventListener("mousemove",Y),document.addEventListener("mouseup",X),()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",X)}),[Y,X]);const ie=e=>{e.preventDefault(),e.stopPropagation();const{current:r}=p,{current:t}=n;if(r&&t){const{clientX:l}=e,i=e.target.getBoundingClientRect().left,u=-(g/2),m=(l-i+u)/r.clientWidth,f=Math.floor(m*t.scrollWidth);t.scrollTo({left:f,behavior:"smooth"})}},ue=e=>{e.preventDefault(),e.stopPropagation();const{current:r}=d,{current:t}=n;if(t&&r){const{clientY:l}=e,i=e.target.getBoundingClientRect().top,u=-(z/2),m=(l-i+u)/r.clientHeight,f=Math.floor(m*t.scrollHeight);t.scrollTo({top:f,behavior:"smooth"})}};return a.jsxs("div",{className:s("zep-relative","zep-w-full","zep-overflow-x-visible"),"data-testid":A,children:[a.jsxs("div",{className:s("zep-flex zep-overflow-x-visible","zep-w-[calc(100%+16px)]","sm:zep-w-[calc(100%+24px)]","md:zep-w-[calc(100%+32px)]","lg:zep-w-[calc(100%+80px)]","xl:zep-w-[calc(100%+120px)]"),children:[a.jsx("div",{className:s("zep-scrollable-content","zep-w-full","zep-pr-1","sm:zep-pr-1.5","md:zep-pr-[32px]","lg:zep-pr-[80px]","xl:zep-pr-[120px]",$,{"zep-mb-2":v!=="vertical"}),id:T,ref:n,tabIndex:0,role:"region","aria-label":F||"Scrollable content",children:L}),a.jsx("div",{className:s("zep-pl-2","zep-vertical-scrollbar",{"zep-hidden":z===0||v==="horizontal"}),"data-testid":"vertical-scrollbar",children:a.jsxs("div",{className:s("zep-block zep-relative zep-h-full",c||x?"!zep-w-0.75":"!zep-w-0.5"),"aria-controls":T,role:"scrollbar","aria-valuenow":oe,"aria-valuemin":0,"aria-valuemax":100,"aria-orientation":"vertical",children:[a.jsx("div",{className:s("zep-top-0 zep-absolute zep-bottom-0 zep-h-full zep-rounded-[100px]",c||x?"!zep-w-0.75":"!zep-w-0.5",S[b].track),ref:d,onClick:ue,onMouseEnter:q,onMouseLeave:_,style:{cursor:c?"grabbing":void 0}}),a.jsx("div",{className:s("zep-absolute zep-rounded-[100px]",c||x?"!zep-w-0.75":"!zep-w-0.5",S[b].thumb),ref:w,onMouseDown:ce,onMouseEnter:q,onMouseLeave:_,style:{height:`${z}px`,cursor:c?"grabbing":"grab"}})]})})]}),a.jsx("div",{className:s(B||"zep-horizontal-scrollbar",{"zep-hidden":g===0||v==="vertical","zep-pr-0.5":v==="both"&&!c,"zep-pr-0.75":v==="both"&&c}),"data-testid":"horizontal-scrollbar",children:a.jsxs("div",{className:s("zep-block zep-relative zep-w-full zep-h-0.5"),"aria-controls":T,role:"scrollbar","aria-valuenow":re,"aria-valuemin":0,"aria-valuemax":100,"aria-orientation":"horizontal",children:[a.jsx("div",{className:s("zep-absolute zep-w-full zep-rounded-[100px] zep-h-0.5",S[b].track,N||h?"zep-scale-y-150 zep-transition-transform zep-duration-150":""),ref:p,onClick:ie,onMouseEnter:I,onMouseLeave:V,style:{cursor:h?"grabbing":void 0}}),a.jsx("div",{className:s("zep-absolute zep-rounded-[100px] zep-h-0.5",S[b].thumb,N||h?"zep-scale-y-150 zep-transition-transform zep-duration-150":""),ref:y,onMouseDown:se,onMouseEnter:I,onMouseLeave:V,style:{width:`${g}px`,cursor:h?"grabbing":"grab"}})]})})]})};try{O.displayName="Scrollbar",O.__docgenInfo={description:"",displayName:"Scrollbar",props:{controlId:{defaultValue:null,description:"",name:"controlId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:{value:"zep-scrollbar"},description:"",name:"dataTestId",required:!1,type:{name:"string"}},theme:{defaultValue:{value:"dark"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},scrollOrientation:{defaultValue:{value:"both"},description:"",name:"scrollOrientation",required:!1,type:{name:"enum",value:[{value:'"both"'},{value:'"horizontal"'},{value:'"vertical"'}]}},horizontalClassName:{defaultValue:null,description:"",name:"horizontalClassName",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}}}}}catch{}export{O as S};

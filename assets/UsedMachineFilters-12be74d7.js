import{j as p}from"./jsx-runtime-1a9d9a93.js";import{r as g}from"./index-8b3efc3f.js";import{c as N}from"./clsx-0839fdbe.js";import{i as h}from"./index.es32-95f1013f.js";import{h as H}from"./index.es13-903b34be.js";import{e as E}from"./index.es33-fbb642fb.js";import{N as K}from"./index.es16-cd98ac1d.js";import{u as W,M as w,d as Y,b as J,a as Q,c as X}from"./used-machine-locales-81201549.js";import{u as $}from"./useScreenSize-9b3efb94.js";import{B as j,Z as k}from"./ZpsButton-77bf3a91.js";import{S as ee}from"./Slider-166e2e5b.js";const _=g.forwardRef(({id:r,name:u,className:z,disabled:s=!1,error:t=!1,label:o,children:v,onChange:b,value:i=r,...l},m)=>p.jsxs("span",{className:h("zep-group","zep-relative","zep-inline-flex","zep-flex-row","zep-flex-wrap","zep-items-center","zep-justify-start",{"[&>svg]:hover:zep-bg-primary-hover":!s&&!t,"zep-cursor-not-allowed":s},z),"data-testid":"zep-checkbox",children:[p.jsx("input",{id:r,ref:m,name:u,value:i,type:"checkbox",onChange:s?void 0:b,className:h(E,"sr-only","zep-peer","zep-absolute","zep-top-[0]","zep-appearance-none","focus-visible:zep-ring-offset-1","zep-w-1.5","zep-h-1.5","zep-border-1","zep-bg-greyscale-0","checked:zep-border-none checked:zep-bg-primary-default",{"checked:zep-bg-opacity-disabled zep-border-neutral-dark-default zep-border-opacity-disabled":s,"zep-border-2 zep-border-error":t,"zep-border-neutral-dark-default group-hover:zep-border-primary-hover group-hover:zep-border-2 zep-transition-all":!t&&!s}),disabled:s,"data-testid":"zep-checkbox-input",...l}),p.jsx("label",{dangerouslySetInnerHTML:{__html:o?`${o}`:""},htmlFor:r,className:h("zep-text-primary-default zep-relative zep-pl-[36px]",[s?"zep-cursor-not-allowed zep-text-opacity-disabled":"zep-cursor-pointer"])}),p.jsx(H,{name:"check",className:h("zep-hidden peer-checked:zep-block","zep-text-neutral-dark-contrast","zep-pointer-events-none","zep-w-1.5","zep-h-1.5","zep-z-10","zep-absolute","zep-top-[-0.1px]","zep-left-[-0.1px]",{"zep-bg-transparent":!t&&!s,"zep-border-opacity-disabled zep-bg-opacity-disabled":s,"zep-bg-error":t})})]}));var c=(r=>(r.Zps="ZPS",r.Cat="CAT",r.Zsd="ZSD",r))(c||{});const pe=g.forwardRef(({id:r,name:u,value:z=r,required:s=!1,disabled:t=!1,error:o=!1,label:v,tabIndex:b=0,onChange:i,variant:l=c.Zps,...m},y)=>(console.log(l),p.jsxs("span",{className:h("zep-inline-flex","zep-flex-row","zep-flex-wrap","zep-items-center","zep-justify-start","zep-relative",{"[&>input]:hover:zep-border-2":!t&&!o},{"[&>input]:hover:zep-border-primary-hover [&>span]:hover:zep-bg-primary-hover [&>span]:hover:zep-bg-2":!t&&!o&&l===c.Zps},{"[&>input]:hover:zep-border-background-dark [&>span]:hover:zep-bg-neutral-dark-hover [&>span]:hover:zep-bg-2":!t&&!o&&l!==c.Zps},{"zep-cursor-not-allowed zep-opacity-disabled":t}),"data-testid":"zep-radio",children:[p.jsx("input",{id:r,ref:y,value:z,name:u,type:"radio",tabIndex:b,required:s,onChange:t?void 0:i,className:h(E,"sr-only","zep-peer","zep-transition-all","zep-absolute","zep-border-1","zep-appearance-none","focus-visible:zep-ring-offset-1","zep-w-1.5","zep-h-1.5","zep-rounded-full",{"zep-border-primary-default":!o&&l===c.Zps},{"zep-border-background-dark":!o&&l!==c.Zps},{"zep-border-2 checked:zep-error zep-border-error":o}),disabled:t,"data-testid":"zep-radio-input",...m}),p.jsx("label",{htmlFor:r,className:h("zep-relative zep-z-20 zep-pl-[36px]",{"zep-cursor-pointer":!t},{"zep-text-primary-default":l===c.Zps},{"zep-text-typography-dark-100":l!==c.Zps}),children:v}),p.jsx("span",{className:h("zep-hidden peer-checked:zep-block","zep-absolute","zep-z-10","zep-rounded-full","zep-border-greyscale-0",{"zep-left-[1px] zep-top-[1px] zep-h-[22px] zep-w-[22px] zep-border-[6px]":!o},{"zep-left-0.125 zep-top-0.125 zep-h-[20px] zep-w-[20px] zep-border-[5px] zep-bg-error":o},{"zep-bg-primary-default":l===c.Zps},{"zep-bg-background-dark":l!==c.Zps}),"data-testid":"zep-radio-checked"})]}))),x=({children:r,label:u,className:z})=>p.jsxs("div",{className:N("zep-flex zep-flex-col zep-gap-1.5",z),children:[p.jsx("p",{className:"zep-typography-headlineMD-fluid-cqi",children:u}),p.jsx("div",{className:"zep-flex zep-flex-col zep-gap-1.5",children:r})]}),q=({locale:r,filters:u,powerOptions:{min:z,max:s,step:t}={min:0,max:100,step:1},setFilters:o,className:v})=>{const[b,i]=g.useState(u),{power:l,fuel:m,rating:y,category:f,type:C,sort:Z}=b,a=g.useMemo(()=>W[r],[r]),[T,F]=g.useState(!1),{width:S}=$(),R=()=>{i({category:f,power:{min:z,max:s},type:[],rating:[],fuel:[],sort:void 0})},M=(e,n)=>{let d=e;return d.includes(n)?d=d.filter(G=>G!==n):d=[...d,n],d},V=()=>{i(u),F(!1)},A=()=>{F(!0)},I=e=>{i(()=>({category:e,power:{min:z,max:s},type:[],rating:[],fuel:[],sort:void 0}))},P=e=>{i(n=>({...n,power:e}))},U=e=>{const n=M(m,e);i(d=>({...d,fuel:n}))},L=e=>{const n=M(y,e);i(d=>({...d,rating:n}))},B=e=>{const n=M(C,e);i(d=>({...d,type:n}))},D=e=>{i(n=>({...n,sort:e}))},O=()=>{o({category:f,power:l,fuel:m,sort:Z,type:C,rating:y}),S<1024&&F(!1)};return g.useEffect(()=>{S>=1024&&O()},[b,S]),p.jsxs("div",{className:N("zep-relative md:zep-static md:zep-w-[25%] md:zep-max-w-[500px]",v),"data-testid":"zep-used-machine-filters",children:[p.jsx(j,{variant:k.SecondaryZps,iconPosition:"right",onClick:A,className:"zep-block md:zep-hidden !zep-w-fit sm:!zep-w-[120px] zep-py-0.625 [&svg]:zep-w-0.75",icon:"tune",children:a.filter}),p.jsxs("div",{className:N("md:zep-block md:zep-h-auto md:zep-bg-transparent md:zep-static zep-pb-[0] md:zep-flex-grow",{"zep-hidden":!T,"zep-fixed zep-bg-greyscale-0 zep-z-[1000] zep-flex zep-flex-col zep-gap-2 zep-h-screen zep-top-[0] zep-left-[0] zep-right-[0] zep-overflow-y-scroll zep-pb-[208px]":T}),children:[p.jsxs("div",{className:"md:zep-hidden zep-flex zep-flex-row zep-justify-between zep-pt-1 zep-px-1 md:zep-p-[0]",children:[p.jsx(j,{variant:k.SecondaryZps,className:"!zep-w-fit sm:!zep-w-fit",icon:"arrow-left",onClick:V}),p.jsx(j,{variant:k.Tertiary,className:"!zep-w-fit sm:!zep-w-fit",onClick:R,children:a.resetFilters})]}),p.jsxs("div",{className:"zep-flex zep-px-1 sm:zep-px-2 md:zep-p-[0] zep-flex-col md:zep-gap-4 zep-gap-2 zep-text-primary-default zep-w-full",children:[p.jsx(x,{label:a.category,children:Object.values(w).map(e=>p.jsx(K,{className:N("zep-self-start","zep-text-primary-default",{"zep-text-primary-active zep-link-filter-active":f===e}),iconPlacement:"before",label:a[e],onClick:()=>I(e)},e))}),p.jsx(x,{label:a.sort,className:"md:zep-hidden zep-py-2 zep-border-y-1 zep-border-y-greyscale-400",children:Object.values(Y).map(e=>p.jsx(pe,{id:e,name:e,label:a[e],checked:Z===e,onChange:()=>D(e)},e))}),f!==w.ACCESSORY&&p.jsxs(p.Fragment,{children:[p.jsx(x,{label:a.fuel,children:Object.values(J).map(e=>p.jsx(_,{className:"zep-mb-[0]",id:e,checked:m.includes(e),onChange:()=>U(e),label:a[e]},e))}),p.jsx(x,{label:a.power,children:p.jsx(ee,{onChange:P,label:f===w.GEN_SET?a.powerInKVA:a.powerInKW,max:s,min:z,value:l,step:t})}),f===w.GEN_SET&&p.jsx(x,{label:a.rating,children:Object.values(Q).map(e=>p.jsx(_,{className:"zep-mb-[0]",id:e,checked:y.includes(e),onChange:()=>L(e),label:a[e]},e))}),p.jsx(x,{label:a.type,children:Object.values(X).map(e=>p.jsx(_,{className:"zep-mb-[0]",id:e,checked:C.includes(e),onChange:()=>B(e),label:a[e]},e))})]})]}),p.jsx("div",{className:"md:zep-hidden zep-z-[1020] zep-fixed zep-bottom-[0] zep-left-[0] zep-right-[0] zep-bg-greyscale-0 zep-shadow-[0_0_4px_rgba(0,0,0,0.24)] zep-p-1",children:p.jsx(j,{variant:k.Primary,className:"sm:zep-w-full",onClick:O,children:a.apply})})]})]})};try{q.displayName="UsedMachineFilters",q.__docgenInfo={description:"",displayName:"UsedMachineFilters",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"Dispatch<SetStateAction<UsedMachineFiltersType>>"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"en"'},{value:'"de"'},{value:'"de-AT"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"UsedMachineFiltersType"}},powerOptions:{defaultValue:{value:"{ min: 0, max: 100, step: 1}"},description:"",name:"powerOptions",required:!1,type:{name:'Omit<SliderProps, "value" | "label">'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{q as U};

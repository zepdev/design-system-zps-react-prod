import{j as r,c as j}from"./clsx-36b9529f.js";import{r as x}from"./index-8b3efc3f.js";import{i as z}from"./index.es31-95f1013f.js";import{h as D}from"./index.es13-b5ad88d4.js";import{e as E}from"./index.es32-fbb642fb.js";import{N as H}from"./index.es16-ca92ca27.js";import{u as K,M as y,d as W,b as Y,a as J,c as Q}from"./used-machine-locales-5665be38.js";import{u as X}from"./useScreenSize-9b3efb94.js";import{B as v,Z as w}from"./ZpsButton-ffde721c.js";import{S as $}from"./Slider-8b4cc11a.js";const M=x.forwardRef(({id:s,name:c,className:d,disabled:p=!1,error:l=!1,label:t,children:g,onChange:h,value:n=s,...m},u)=>r.jsxs("span",{className:z("zep-group","zep-relative","zep-inline-flex","zep-flex-row","zep-flex-wrap","zep-items-center","zep-justify-start",{"[&>svg]:hover:zep-bg-primary-hover":!p&&!l,"zep-cursor-not-allowed":p},d),"data-testid":"zep-checkbox",children:[r.jsx("input",{id:s,ref:u,name:c,value:n,type:"checkbox",onChange:p?void 0:h,className:z(E,"sr-only","zep-peer","zep-absolute","zep-top-[0]","zep-appearance-none","focus-visible:zep-ring-offset-1","zep-w-1.5","zep-h-1.5","zep-border-1","zep-bg-greyscale-0","checked:zep-border-none checked:zep-bg-primary-default",{"checked:zep-bg-opacity-disabled zep-border-neutral-dark-default zep-border-opacity-disabled":p,"zep-border-2 zep-border-error":l,"zep-border-neutral-dark-default group-hover:zep-border-primary-hover group-hover:zep-border-2 zep-transition-all":!l&&!p}),disabled:p,"data-testid":"zep-checkbox-input",...m}),r.jsx("label",{dangerouslySetInnerHTML:{__html:t?`${t}`:""},htmlFor:s,className:z("zep-text-primary-default zep-relative zep-pl-[36px]",[p?"zep-cursor-not-allowed zep-text-opacity-disabled":"zep-cursor-pointer"])}),r.jsx(D,{name:"check",className:z("zep-hidden peer-checked:zep-block","zep-text-neutral-dark-contrast","zep-pointer-events-none","zep-w-1.5","zep-h-1.5","zep-z-10","zep-absolute","zep-top-[-0.1px]","zep-left-[-0.1px]",{"zep-bg-transparent":!l&&!p,"zep-border-opacity-disabled zep-bg-opacity-disabled":p,"zep-bg-error":l})})]})),ee=x.forwardRef(({id:s,name:c,value:d=s,required:p=!1,disabled:l=!1,error:t=!1,label:g,tabIndex:h=0,onChange:n,...m},u)=>r.jsxs("span",{className:z("zep-inline-flex","zep-flex-row","zep-flex-wrap","zep-items-center","zep-justify-start","zep-relative",{"[&>input]:hover:zep-border-primary-hover [&>span]:hover:zep-bg-primary-hover [&>input]:hover:zep-border-2 [&>span]:hover:zep-bg-2":!l&&!t},{"zep-cursor-not-allowed zep-opacity-disabled":l}),"data-testid":"zep-radio",children:[r.jsx("input",{id:s,ref:u,value:d,name:c,type:"radio",tabIndex:h,required:p,onChange:l?void 0:n,className:z(E,"sr-only","zep-peer","zep-transition-all","zep-absolute","zep-border-1","zep-appearance-none","focus-visible:zep-ring-offset-1","zep-w-1.5","zep-h-1.5","zep-rounded-full",{"zep-border-primary-default":!t},{"zep-border-2":t},{"checked:zep-error zep-border-error":t},{"zep-border-error":t}),disabled:l,"data-testid":"zep-radio-input",...m}),r.jsx("label",{htmlFor:s,className:z("zep-relative zep-z-20 zep-pl-[36px] zep-text-primary-default",[{"zep-cursor-pointer":!l}]),children:g}),r.jsx("span",{className:z("zep-hidden peer-checked:zep-block","zep-absolute","zep-z-10","zep-rounded-full","zep-border-greyscale-0",{"zep-left-[1px] zep-top-[1px] zep-h-[22px] zep-w-[22px] zep-border-[6px]":!t},{"zep-left-0.125 zep-top-0.125 zep-h-[20px] zep-w-[20px] zep-border-[5px]":t},[t?"zep-bg-error":"zep-bg-primary-default"]),"data-testid":"zep-radio-checked"})]})),b=({children:s,label:c,className:d})=>r.jsxs("div",{className:j("zep-flex zep-flex-col zep-gap-1.5",d),children:[r.jsx("p",{className:"zep-typography-headlineMD-fluid-cqi",children:c}),r.jsx("div",{className:"zep-flex zep-flex-col zep-gap-1.5",children:s})]}),q=({locale:s,filters:c,powerOptions:{min:d,max:p,step:l}={min:0,max:100,step:1},setFilters:t,className:g})=>{const[h,n]=x.useState(c),{power:m,fuel:u,rating:N,category:f,type:k,sort:_}=h,a=x.useMemo(()=>K[s],[s]),[O,C]=x.useState(!1),{width:F}=X(),R=()=>{n({category:f,power:{min:d,max:p},type:[],rating:[],fuel:[],sort:void 0})},S=(e,o)=>{let i=e;return i.includes(o)?i=i.filter(G=>G!==o):i=[...i,o],i},V=()=>{n(c),C(!1)},I=()=>{C(!0)},U=e=>{n(()=>({category:e,power:{min:d,max:p},type:[],rating:[],fuel:[],sort:void 0}))},A=e=>{n(o=>({...o,power:e}))},L=e=>{const o=S(u,e);n(i=>({...i,fuel:o}))},P=e=>{const o=S(N,e);n(i=>({...i,rating:o}))},Z=e=>{const o=S(k,e);n(i=>({...i,type:o}))},B=e=>{n(o=>({...o,sort:e}))},T=()=>{t({category:f,power:m,fuel:u,sort:_,type:k,rating:N}),F<1024&&C(!1)};return x.useEffect(()=>{F>=1024&&T()},[h,F]),r.jsxs("div",{className:j("zep-relative md:zep-static md:zep-w-[25%] md:zep-max-w-[500px]",g),"data-testid":"zep-used-machine-filters",children:[r.jsx(v,{variant:w.SecondaryZps,iconPosition:"right",onClick:I,className:"zep-block md:zep-hidden !zep-w-fit sm:!zep-w-[122px] zep-py-0.625 [&svg]:zep-w-0.75",icon:"tune",children:a.filter}),r.jsxs("div",{className:j("md:zep-block md:zep-h-auto md:zep-bg-transparent md:zep-static zep-pb-[0] md:zep-flex-grow",{"zep-hidden":!O,"zep-fixed zep-bg-greyscale-0 zep-z-[1000] zep-flex zep-flex-col zep-gap-2 zep-h-screen zep-top-[0] zep-left-[0] zep-right-[0] zep-overflow-y-scroll zep-pb-[208px]":O}),children:[r.jsxs("div",{className:"md:zep-hidden zep-flex zep-flex-row zep-justify-between zep-pt-1 zep-px-1 md:zep-p-[0]",children:[r.jsx(v,{variant:w.SecondaryZps,className:"!zep-w-fit sm:!zep-w-fit",icon:"arrow-left",onClick:V}),r.jsx(v,{variant:w.Tertiary,className:"!zep-w-fit sm:!zep-w-fit",onClick:R,children:a.resetFilters})]}),r.jsxs("div",{className:"zep-flex zep-px-1 sm:zep-px-2 md:zep-p-[0] zep-flex-col md:zep-gap-4 zep-gap-2 zep-text-primary-default zep-w-full",children:[r.jsx(b,{label:a.category,children:Object.values(y).map(e=>r.jsx(H,{className:j("zep-self-start","zep-text-primary-default",{"zep-text-primary-active zep-link-filter-active":f===e}),iconPlacement:"before",label:a[e],onClick:()=>U(e)},e))}),r.jsx(b,{label:a.sort,className:"md:zep-hidden zep-py-2 zep-border-y-1 zep-border-y-greyscale-400",children:Object.values(W).map(e=>r.jsx(ee,{id:e,name:e,label:a[e],checked:_===e,onChange:()=>B(e)},e))}),f!==y.ACCESSORY&&r.jsxs(r.Fragment,{children:[r.jsx(b,{label:a.fuel,children:Object.values(Y).map(e=>r.jsx(M,{className:"zep-mb-[0]",id:e,checked:u.includes(e),onChange:()=>L(e),label:a[e]},e))}),r.jsx(b,{label:a.power,children:r.jsx($,{onChange:A,label:f===y.GEN_SET?a.powerInKVA:a.powerInKW,max:p,min:d,value:m,step:l})}),f===y.GEN_SET&&r.jsx(b,{label:a.rating,children:Object.values(J).map(e=>r.jsx(M,{className:"zep-mb-[0]",id:e,checked:N.includes(e),onChange:()=>P(e),label:a[e]},e))}),r.jsx(b,{label:a.type,children:Object.values(Q).map(e=>r.jsx(M,{className:"zep-mb-[0]",id:e,checked:k.includes(e),onChange:()=>Z(e),label:a[e]},e))})]})]}),r.jsx("div",{className:"md:zep-hidden zep-z-[1020] zep-fixed zep-bottom-[0] zep-left-[0] zep-right-[0] zep-bg-greyscale-0 zep-shadow-[0_0_4px_rgba(0,0,0,0.24)] zep-p-1",children:r.jsx(v,{variant:w.Primary,className:"sm:zep-w-full",onClick:T,children:a.apply})})]})]})};try{q.displayName="UsedMachineFilters",q.__docgenInfo={description:"",displayName:"UsedMachineFilters",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"Dispatch<SetStateAction<UsedMachineFiltersType>>"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"en"'},{value:'"de"'},{value:'"de-AT"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"UsedMachineFiltersType"}},powerOptions:{defaultValue:null,description:"",name:"powerOptions",required:!1,type:{name:'Omit<SliderProps, "value" | "label">'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{q as U};
